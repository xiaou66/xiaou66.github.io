<!-- build time:Mon Oct 17 2022 10:22:21 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="xiaou博客" href="https://blog.xiaou.icu/rss.xml"><link rel="alternate" type="application/atom+xml" title="xiaou博客" href="https://blog.xiaou.icu/atom.xml"><link rel="alternate" type="application/json" title="xiaou博客" href="https://blog.xiaou.icu/feed.json"><link rel="stylesheet" href="//fonts.lug.ustc.edu.cn/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="java"><link rel="canonical" href="https://blog.xiaou.icu/springboot/SpringBoot%20%E6%B3%A8%E8%A7%A3%E5%8A%9F%E8%83%BD/"><title>SpringBoot 注解功能 - springboot | xiaou = xiaou博客</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">SpringBoot 注解功能</h1><div class="meta"><span class="item" title="创建时间：2021-12-26 14:53:02"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-12-26T14:53:02+08:00">2021-12-26</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>10k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>9 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">xiaou</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s6.jpg.cm/2022/03/14/L2ruiG.jpg"></li><li class="item" data-background-image="https://s6.jpg.cm/2022/03/14/L2EuYX.jpg"></li><li class="item" data-background-image="https://s6.jpg.cm/2022/03/14/L2ER88.jpg"></li><li class="item" data-background-image="https://s6.jpg.cm/2022/03/14/L2rDIt.jpg"></li><li class="item" data-background-image="https://s6.jpg.cm/2022/03/14/L2rZxu.jpg"></li><li class="item" data-background-image="https://s6.jpg.cm/2022/03/14/L2EA8z.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/springboot/" itemprop="item" rel="index" title="分类于 springboot"><span itemprop="name">springboot</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.xiaou.icu/springboot/SpringBoot%20%E6%B3%A8%E8%A7%A3%E5%8A%9F%E8%83%BD/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="xiaou"><meta itemprop="description" content=", xiaou博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="xiaou博客"></span><div class="body md" itemprop="articleBody"><h1 id="springboot-注解功能"><a class="anchor" href="#springboot-注解功能">#</a> SpringBoot 注解功能</h1><h2 id="配置注解"><a class="anchor" href="#配置注解">#</a> 配置注解</h2><h3 id="configuration"><a class="anchor" href="#configuration">#</a> @Configuration</h3><div class="note info"><p>标识是配置类 = 配置文件，配置类也是一个组件 默认单实例</p></div><h4 id="参数"><a class="anchor" href="#参数">#</a> 参数</h4><p>proxyBeanMethods 默认 true</p><ol><li>Full (proxyBeanMethods = true) :proxyBeanMethods 参数设置为 true 时即为：Full 全模式。 该模式下注入容器中的同一个组件无论被取出多少次都是同一个 bean 实例，即单实例对象，在该模式下 SpringBoot 每次启动都会判断检查容器中是否存在该组件。</li><li>Lite (proxyBeanMethods = false) :proxyBeanMethods 参数设置为 false 时即为：Lite 轻量级模式。该模式下注入容器中的同一个组件无论被取出多少次都是不同的 bean 实例，即多实例对象，在该模式下 SpringBoot 每次启动会跳过检查容器中是否存在该组件。</li></ol><p><strong>什么时候用 Full 全模式，什么时候用 Lite 轻量级模式？</strong></p><p>当在你的同一个 Configuration 配置类中，注入到容器中的 bean 实例之间有依赖关系时，建议使用 Full 全模式；当在你的同一个 Configuration 配置类中，注入到容器中的 bean 实例之间没有依赖关系时，建议使用 Lite 轻量级模式，以提高 SpringBoot 的启动速度和性能。</p><h3 id="bean"><a class="anchor" href="#bean">#</a> @Bean</h3><p>简单的例子</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 给容器总添加组件，使用当前的方法名做为组件名称</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 如果需要改变则可以使用 @Bean ("user") 进行改变</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">user01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"xiaou"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>对应的 xml 配置</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user01<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.lean.springboot.bean.User<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>@Bean 也可以依赖其他任意数量的 bean，如果 User 依赖 Car，我们可以通过方法参数实现这个依赖</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 这里会寻找容器中注册过的 car 类型的对象注入的到这里供这个 Bean 创建所需要</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">user01</span><span class="token punctuation">(</span><span class="token class-name">Car</span> car<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"xiaou"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> car<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 指定创建 bean 时候执行的方法的名称</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">String</span> <span class="token function">initMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 指定销毁 bean 时候方法</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token class-name">String</span> <span class="token function">destroyMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">"(inferred)"</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="scope-bean-作用域"><a class="anchor" href="#scope-bean-作用域">#</a> @Scope Bean 作用域</h4><ol><li>singleton 全局只有一个实例，即单例模式</li><li>prototype 每次注入 Bean 都是一个新的实例</li><li>request 每次 HTTP 请求都会产生新的 Bean</li><li>session 每次 HTTP 请求都会产生新的 Bean，该 Bean 在仅在当前 session 内有效</li><li>global session 每次 HTTP 请求都会产生新的 Bean，该 Bean 在 当前 global Session（基于 portlet 的 web 应用中）内有效</li></ol><h3 id="configuration-和-bean-特点"><a class="anchor" href="#configuration-和-bean-特点">#</a> @Configuration 和 @Bean 特点</h3><div class="note info"><p>在 Spring 容器中 @Configuration 和 @Bean 都可以对容器注入 Bean，一般情况下在使用 @Configuration 注解的时候都伴随着 @Bean 注解但是不加 @Configuration 也可以对容器中注入 Bean 那么加和不加又有什么区别呢？🤣</p></div><h4 id="实验"><a class="anchor" href="#实验">#</a> 实验</h4><figure class="highlight java"><figcaption data-lang="java"><span>使用 @Configuration</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Configuration</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigBean</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaou"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"><span>不使用 @Configuration</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Component</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigBean</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaou"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"><span>测试类</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Test</span> <span class="token keyword">void</span> <span class="token function">configurationTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">ConfigBean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"user1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol><li>使用 @Configuration 结果</li></ol><pre><code>com.example.springdemo.config.ConfigBean$$EnhancerBySpringCGLIB$$e5f9c687@3b9632d1
Users(name=xiaou, age=18)
</code></pre><ol start="2"><li>不使用 @Configuration 结果</li></ol><pre><code>com.example.springdemo.config.ConfigBean@2f508f3c
Users(name=xiaou, age=18)
</code></pre><p>发现在使用 @Configuration 注解的时候所标识的类是 CGLIB 代理的，而没有标识的则没有被 CGLIB 代理。那么 CGLIB 代理又启到了什么作用。</p><figure class="highlight java"><figcaption data-lang="java"><span>使用 @Configuration</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Configuration</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigBean</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user1 被执行了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaou"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token class-name">Users</span> users <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaoz"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setFather</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token class-name">Users</span> users <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaoy"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setFather</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"><span>不使用 @Configuration</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Component</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigBean</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user1 被执行了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaou"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token class-name">Users</span> users <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaoz"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setFather</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Users</span> <span class="token function">user3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token class-name">Users</span> users <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">user1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Users</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"xiaoy"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>                <span class="token punctuation">.</span><span class="token function">setFather</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol><li>使用 @Configuration 结果</li></ol><pre><code>user1 被执行了
user1 -&gt;Users(name=xiaou, age=18, father=null)
user2 -&gt;Users(name=xiaoz, age=2, father=Users(name=xiaou, age=18, father=null))
user3 -&gt;Users(name=xiaoy, age=4, father=Users(name=xiaou, age=18, father=null))
</code></pre><ol start="2"><li>不使用 @Configuration</li></ol><pre><code>user1 被执行了
user1 被执行了
user1 被执行了
user1 -&gt;Users(name=xiaou, age=18, father=null)
user2 -&gt;Users(name=xiaoz, age=2, father=Users(name=xiaou, age=18, father=null))
user3 -&gt;Users(name=xiaoy, age=4, father=Users(name=xiaou, age=18, father=null))
</code></pre><p>使用 @Configuration : @Bean 修饰的方法都只被调用了一次，这个很关键，因为这样就是产生一个实例在 user2 和 user3 中使用的都是 user1 的 bean 。</p><p>在不使用 @Configuration: user1 被执行三次分别在 @Bean 注入容器时候，user2, user3 使用 user1 的时候。</p><p>这是为什么？</p><p>被 @Configuration 修饰的类，Spring 容器中会通过 CGLIB 给这个类创建一个代理，代理会拦截所有被<br>@Bean 修饰的方法，默认情况（bean 为单例）下确保这些方法只被调用一次，从而确保这些 bean 是同<br>一个 bean，即单例的。</p><h3 id="propertysource-和-configurationproperties"><a class="anchor" href="#propertysource-和-configurationproperties">#</a> @PropertySource 和 @ConfigurationProperties</h3><div class="note info"><p>单独一个 @ConfigurationProperties 注解，表示从默认的全局配置文件中获取值注入而加上 @PropertySource 则可以指定配置文件</p></div><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Component</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="lazy"><a class="anchor" href="#lazy">#</a> @Lazy</h3><blockquote><p>实现 bean 的延迟初始化</p><ul><li>延迟初始化：就是使用到的时候才会去进行初始化。</li></ul></blockquote><h4 id="注解定义"><a class="anchor" href="#注解定义">#</a> 注解定义</h4><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="2"></td><td><pre>         <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">CONSTRUCTOR</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">PARAMETER</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token annotation punctuation">@Documented</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Lazy</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">/**</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	 * 是否应该发生延迟初始化。</pre></td></tr><tr><td data-num="8"></td><td><pre>	 */</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">boolean</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="实验-2"><a class="anchor" href="#实验-2">#</a> 实验</h4><figure class="highlight java"><figcaption data-lang="java"><span>配置类</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Lazy</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Configuration</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigDemo</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"create bean >> name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> <span class="token string">"xiaou"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"create bean >> value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">return</span> <span class="token string">"xiaoy"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"><span>在类上使用 Lazy</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Component</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Lazy</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LazyController</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">LazyController</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"create->LazyController"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.example.springdemo.LazyDemo"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LazyBean</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"><span>测试方法</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">importTest3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"准备启动 Spring 容器"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">LazyBean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"启动 Spring 容器完成"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>beanName <span class="token operator">+</span> <span class="token string">"->"</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>输出结果</strong></p><pre><code>准备启动 Spring 容器
启动 Spring 容器完成
create-&gt;LazyController
lazyController-&gt;com.example.springdemo.LazyDemo.LazyController@359df09a
create bean &gt;&gt; name
name-&gt;xiaou
</code></pre><h4 id="总结"><a class="anchor" href="#总结">#</a> 总结</h4><p>@ Lazy 可以让 bean 延迟初始化常见用法</p><ol><li>标注在类上</li><li>注在配置类上，会对配置类中所有的 @Bean 标注的方法有效</li><li>@Bean 一起标注在方法上</li></ol><h3 id="importresource"><a class="anchor" href="#importresource">#</a> @ImportResource</h3><div class="note info"><p>用于导入 Spring 的 XML 配置文件，让该配置文件中定义的 bean 对象加载到 Spring 容器中。<br>该注解必须加载 Spring 的主程序入口上。</p></div><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"classpath:beans.xml"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@SpringBootApplication</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorldApplication</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HelloWorldApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="conditional-条件创建bean"><a class="anchor" href="#conditional-条件创建bean">#</a> @Conditional 条件创建 Bean</h3><div class="note info"><p>作用：必须是 @Conditional 指定的条件成立，才给容器中添加组件，配置配里面的所有内容才生效</p></div><table><thead><tr><th><strong>@Conditional 扩展注解</strong></th><th><strong>作用</strong></th></tr></thead><tbody><tr><td>@ConditionalOnJava</td><td>系统的 java 版本是否符合要求</td></tr><tr><td>@ConditionalOnBean</td><td>容器中存在指定 Bean</td></tr><tr><td>@ConditionalOnMissingBean</td><td>容器中不存在指定 Bean</td></tr><tr><td>@ConditionalOnExpression</td><td>满足 SpEL 表达式指定要求</td></tr><tr><td>@ConditionalOnClass</td><td>系统中有指定的类</td></tr><tr><td>@ConditionalOnMissingClass</td><td>系统中没有指定的类</td></tr><tr><td>@ConditionalOnSingleCandidate</td><td>容器中只有一个指定的 Bean，或者这个 Bean 是首选 Bean</td></tr><tr><td>@ConditionalOnProperty</td><td>系统中指定的属性是否有指定的值</td></tr><tr><td>@ConditionalOnResource</td><td>类路径下是否存在指定资源文件</td></tr><tr><td>@ConditionalOnWebApplication</td><td>当前是 web 环境</td></tr><tr><td>@ConditionalOnNotWebApplication</td><td>当前不是 web 环境</td></tr><tr><td>@ConditionalOnJndi</td><td>JNDI 存在指定项</td></tr></tbody></table><blockquote><p>自动配置类必须在一定的条件下才能生效，我们可以通过启用 debug=true 属性来让控制台打印自动配置报告，这样我们就可以很方便的知道哪些自动配置类生效。</p></blockquote><h2 id="请求注解"><a class="anchor" href="#请求注解">#</a> 请求注解</h2><h3 id="pathvariable"><a class="anchor" href="#pathvariable">#</a> @PathVariable</h3><div class="note info"><p>通过 @PathVariable 可以将 URL 中占位符参数 {xxx} 绑定到处理器类的方法形参中 @PathVariable (“xxx“)</p></div><h4 id="参数-2"><a class="anchor" href="#参数-2">#</a> 参数</h4><table><thead><tr><th>参数名</th><th>说明</th><th></th></tr></thead><tbody><tr><td>value</td><td>路径参数名称</td><td></td></tr><tr><td>required</td><td>是否必须</td><td></td></tr></tbody></table><h4 id="演示"><a class="anchor" href="#演示">#</a> 演示</h4><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/init/&#123;id&#125;/&#123;uid&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"uid"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>                                <span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> map<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"map"</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">return</span> result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>@PathVariable Integer id</code> 必须 id 和上面路径的 id 一致如果不一致则需要使用 <code>@PathVariable(&quot;uid&quot;)</code> 指定。如果要获取全部的 PathVariable 可以使用 <code>Map&lt;String, String&gt;</code> 定义形参然后使用 @PathVariable 注解修饰。</p><p><strong>结果</strong></p><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token property">"userId"</span><span class="token operator">:</span> <span class="token string">"22"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token property">"map"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token property">"uid"</span><span class="token operator">:</span> <span class="token string">"22"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"11"</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="requestparam"><a class="anchor" href="#requestparam">#</a> @RequestParam</h3><div class="note info"><p>@RequestParam：将请求参数绑定到你控制器的方法参数上（是 springmvc 中接收普通参数的注解）</p></div><h4 id="参数-3"><a class="anchor" href="#参数-3">#</a> 参数</h4><table><thead><tr><th>参数名</th><th>说明</th></tr></thead><tbody><tr><td>value</td><td>路径参数名称默认为参数名称</td></tr><tr><td>required</td><td>是否必须</td></tr><tr><td>defaultValue</td><td>默认参数值，如果设置了该值，required=true 将失效，自动为 false, 如果没有传该参数，就使用默认值</td></tr></tbody></table><h4 id="演示-2"><a class="anchor" href="#演示-2">#</a> 演示</h4><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/params"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">params</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"uid"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> userId<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>                                  <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>defaultValue <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">)</span> <span class="token class-name">Boolean</span> status<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">,</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">return</span> result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>结果</strong></p><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"xiaou"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token property">"userId"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token property">"status"</span><span class="token operator">:</span> <span class="token boolean">false</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><blockquote><p>这个注解也是可以使用 <code>Map&lt;String, String&gt;</code> 接收所有的 RequestParam 的参数</p></blockquote><h3 id="requestheader"><a class="anchor" href="#requestheader">#</a> @RequestHeader</h3><div class="note info"><p>@RequestHeader 用于将 Web 请求头中的数据映射到控制器处理方法的参数中。</p></div><h4 id="参数-4"><a class="anchor" href="#参数-4">#</a> 参数</h4><table><thead><tr><th>参数名</th><th>说明</th></tr></thead><tbody><tr><td>value</td><td>路径参数名称默认为参数名称</td></tr><tr><td>required</td><td>是否必须</td></tr><tr><td>defaultValue</td><td>默认参数值，如果设置了该值，required=true 将失效，自动为 false, 如果没有传该参数，就使用默认值</td></tr></tbody></table><h4 id="演示-3"><a class="anchor" href="#演示-3">#</a> 演示</h4><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/requestHeader"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">requestHeader</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userAgent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"userAgent"</span><span class="token punctuation">,</span> userAgent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>结果</strong></p><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">"userAgent"</span><span class="token operator">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><blockquote><p>这个注解也是可以使用 <code>Map&lt;String, String&gt;</code> 接收所有的 RequestParam 的参数</p></blockquote><h3 id="cookievalue"><a class="anchor" href="#cookievalue">#</a> @CookieValue</h3><div class="note info"><p>@RequestHeader 用于将 Web 请求头中的 cookie 数据取出</p></div><h4 id="参数-5"><a class="anchor" href="#参数-5">#</a> 参数</h4><table><thead><tr><th>参数名</th><th>说明</th></tr></thead><tbody><tr><td>value</td><td>路径参数名称默认为参数名称</td></tr><tr><td>required</td><td>是否必须</td></tr><tr><td>defaultValue</td><td>默认参数值，如果设置了该值，required=true 将失效，自动为 false, 如果没有传该参数，就使用默认值</td></tr></tbody></table><h4 id="演示-4"><a class="anchor" href="#演示-4">#</a> 演示</h4><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/getCookie"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span><span class="token string">"NMTID"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> cookieValue<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>                                     <span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span><span class="token string">"NMTID"</span><span class="token punctuation">)</span> <span class="token class-name">Cookie</span> cookie<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"NMTID_info"</span><span class="token punctuation">,</span> cookie<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"NMTID"</span><span class="token punctuation">,</span> cookieValue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">return</span> result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>结果</strong></p><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">"NMTID_info"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"NMTID"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"00OQcXWEKqZu6SPVEu2pOFJL8dr6ykAAAF6Rr7CkA"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token property">"version"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token property">"comment"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token property">"domain"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token property">"maxAge"</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token property">"secure"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token property">"httpOnly"</span><span class="token operator">:</span> <span class="token boolean">false</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token property">"NMTID"</span><span class="token operator">:</span> <span class="token string">"00OQcXWEKqZu6SPVEu2pOFJL8dr6ykAAAF6Rr7CkA"</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="requestattribute"><a class="anchor" href="#requestattribute">#</a> @RequestAttribute</h3><div class="note info"><p>获取 HTTP 的请求（request）对象属性值，用来传递给控制器的参数。</p></div><h3 id="requestbody"><a class="anchor" href="#requestbody">#</a> @RequestBody</h3><div class="note info"><p>@RequestBody 主要用来接收前端传递给后端的 json 字符串中的数据的 (请求体中的数据的)</p></div><h4 id="参数-6"><a class="anchor" href="#参数-6">#</a> 参数</h4><table><thead><tr><th>参数名</th><th>说明</th></tr></thead><tbody><tr><td>value</td><td>路径参数名称默认为参数名称</td></tr><tr><td>required</td><td>是否必须</td></tr><tr><td>defaultValue</td><td>默认参数值，如果设置了该值，required=true 将失效，自动为 false, 如果没有传该参数，就使用默认值</td></tr></tbody></table><h4 id="演示-5"><a class="anchor" href="#演示-5">#</a> 演示</h4><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"requestBody"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">requestBody</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> requestHeaderMap<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> requestHeaderMap<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>** 结果 **</p><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 传递 body  Content-Type = "application/json"</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span><span class="token property">"a"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token property">"b"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 返回</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span><span class="token property">"a"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token property">"b"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><div class="note warning"><ol><li>一个请求，只有一个 RequestBody</li><li>当同时使用 @RequestParam（）和 @RequestBody 时，@RequestParam（）指定的参数可以是普通元素、<br>数组、集合、对象等等 (即：当，@RequestBody 与 @RequestParam () 可以同时使用时，原 SpringMVC 接收<br>参数的机制不变，只不过 RequestBody 接收的是请求体里面的数据；而 RequestParam 接收的是 key-value 里面的参数，所以它会被切面进行处理从而可以用普通元素、数组、集合、对象等接收)。 即：如果参数时放在请求体中，application/json 传入后台的话，那么后台要用 @RequestBody 才能接收到； 如果不是放在请求体中的话，那么后台接收前台传过来的参数时，要用 @RequestParam 来接收，或<br>则形参前 什么也不写也能接收。</li></ol></div><h3 id="matrixvariable"><a class="anchor" href="#matrixvariable">#</a> @MatrixVariable</h3><div class="note info"><p>矩阵变量可以出现在任何路径片段中，每一个矩阵变量都用分号（;）隔开。比如 “/cars;color=red;year=2012”。多个值可以用逗号隔开，比如 “color=red,green,blue”，或者分开写 “color=red;color=green;color=blue”</p></div><h4 id="开启方法"><a class="anchor" href="#开启方法">#</a> 开启方法</h4><p>Springboot 默认是无法使用矩阵变量绑定参数的。需要覆盖 WebMvcConfigurer 中的 configurePathMatch 方法。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Configuration</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configurePathMatch</span><span class="token punctuation">(</span><span class="token class-name">PathMatchConfigurer</span> configurer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">UrlPathHelper</span> urlPathHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlPathHelper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        urlPathHelper<span class="token punctuation">.</span><span class="token function">setRemoveSemicolonContent</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        configurer<span class="token punctuation">.</span><span class="token function">setUrlPathHelper</span><span class="token punctuation">(</span>urlPathHelper<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="参数-7"><a class="anchor" href="#参数-7">#</a> 参数</h4><table><thead><tr><th>参数名</th><th>说明</th></tr></thead><tbody><tr><td>value</td><td>路径参数名称默认为参数名称</td></tr><tr><td>required</td><td>是否必须</td></tr><tr><td>defaultValue</td><td>默认参数值，如果设置了该值，required=true 将失效，自动为 false, 如果没有传该参数，就使用默认值</td></tr><tr><td>pathVar</td><td>矩阵变量所在的 URI 路径变量的名称，如果需要消除歧义 (例如，在多个路径段中出现同名的矩阵变量)。</td></tr></tbody></table><div class="tags"><a href="/tags/java/" rel="tag"><i class="ic i-tag"></i> java</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-10-17 18:21:27" itemprop="dateModified" datetime="2022-10-17T18:21:27+08:00">2022-10-17</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="xiaou 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="xiaou 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>xiaou <i class="ic i-at"><em>@</em></i>xiaou博客</li><li class="link"><strong>本文链接：</strong> <a href="https://blog.xiaou.icu/springboot/SpringBoot%20%E6%B3%A8%E8%A7%A3%E5%8A%9F%E8%83%BD/" title="SpringBoot 注解功能">https://blog.xiaou.icu/springboot/SpringBoot 注解功能/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/algorithm/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s6.jpg.cm&#x2F;2022&#x2F;03&#x2F;14&#x2F;L2EcTG.jpg" title="拓扑排序"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> algorithm</span><h3>拓扑排序</h3></a></div><div class="item right"><a href="/javaFrame/Mybatis/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s6.jpg.cm&#x2F;2022&#x2F;03&#x2F;14&#x2F;L2s8j2.jpg" title="Mybaits"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> javaFrame</span><h3>Mybaits</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#springboot-%E6%B3%A8%E8%A7%A3%E5%8A%9F%E8%83%BD"><span class="toc-number">1.</span> <span class="toc-text">SpringBoot 注解功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.1.</span> <span class="toc-text">配置注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#configuration"><span class="toc-number">1.1.1.</span> <span class="toc-text">@Configuration</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bean"><span class="toc-number">1.1.2.</span> <span class="toc-text">@Bean</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#scope-bean-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">@Scope Bean 作用域</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#configuration-%E5%92%8C-bean-%E7%89%B9%E7%82%B9"><span class="toc-number">1.1.3.</span> <span class="toc-text">@Configuration 和 @Bean 特点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">实验</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#propertysource-%E5%92%8C-configurationproperties"><span class="toc-number">1.1.4.</span> <span class="toc-text">@PropertySource 和 @ConfigurationProperties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lazy"><span class="toc-number">1.1.5.</span> <span class="toc-text">@Lazy</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E5%AE%9A%E4%B9%89"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">注解定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C-2"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">实验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.1.5.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#importresource"><span class="toc-number">1.1.6.</span> <span class="toc-text">@ImportResource</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#conditional-%E6%9D%A1%E4%BB%B6%E5%88%9B%E5%BB%BAbean"><span class="toc-number">1.1.7.</span> <span class="toc-text">@Conditional 条件创建 Bean</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.2.</span> <span class="toc-text">请求注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pathvariable"><span class="toc-number">1.2.1.</span> <span class="toc-text">@PathVariable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-2"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#requestparam"><span class="toc-number">1.2.2.</span> <span class="toc-text">@RequestParam</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-3"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-2"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#requestheader"><span class="toc-number">1.2.3.</span> <span class="toc-text">@RequestHeader</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-4"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-3"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cookievalue"><span class="toc-number">1.2.4.</span> <span class="toc-text">@CookieValue</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-5"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-4"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#requestattribute"><span class="toc-number">1.2.5.</span> <span class="toc-text">@RequestAttribute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#requestbody"><span class="toc-number">1.2.6.</span> <span class="toc-text">@RequestBody</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-6"><span class="toc-number">1.2.6.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-5"><span class="toc-number">1.2.6.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#matrixvariable"><span class="toc-number">1.2.7.</span> <span class="toc-text">@MatrixVariable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%90%AF%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.7.1.</span> <span class="toc-text">开启方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-7"><span class="toc-number">1.2.7.2.</span> <span class="toc-text">参数</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/springboot/SpringBootApplication%E5%88%86%E6%9E%90/" rel="bookmark" title="SpringBootApplication分析">SpringBootApplication分析</a></li><li><a href="/springboot/SpringMVC%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%A6%82%E8%A7%88/" rel="bookmark" title="SpringBoot自动配置概览">SpringBoot自动配置概览</a></li><li class="active"><a href="/springboot/SpringBoot%20%E6%B3%A8%E8%A7%A3%E5%8A%9F%E8%83%BD/" rel="bookmark" title="SpringBoot 注解功能">SpringBoot 注解功能</a></li><li><a href="/springboot/FactoryBean%20%E5%92%8C%20BeanFactory/" rel="bookmark" title="FactoryBean 和 BeanFactory">FactoryBean 和 BeanFactory</a></li><li><a href="/springboot/Spring%20Bean%20%E4%BD%9C%E7%94%A8%E5%9F%9F/" rel="bookmark" title="Spring Bean 作用域">Spring Bean 作用域</a></li><li><a href="/springboot/Spring%20%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/" rel="bookmark" title="Spring 消息推送">Spring 消息推送</a></li><li><a href="/springboot/Import%20%E6%B3%A8%E8%A7%A3/" rel="bookmark" title="Import 注解">Import 注解</a></li><li><a href="/springboot/ComponentScan%20%E6%B3%A8%E8%A7%A3/" rel="bookmark" title="ComponentScan 注解">ComponentScan 注解</a></li><li><a href="/springboot/Spring%20Bean%20%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" rel="bookmark" title="Spring Bean 生命周期">Spring Bean 生命周期</a></li><li><a href="/springboot/Spring%20Value%20%E6%B3%A8%E8%A7%A3%E5%8A%A8%E6%80%81%E5%88%B7%E6%96%B0/" rel="bookmark" title="Spring Value 注解动态刷新">Spring Value 注解动态刷新</a></li><li><a href="/springboot/Spring%20%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Spring 事件模式">Spring 事件模式</a></li><li><a href="/springboot/Spring%20Bean%20%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96/" rel="bookmark" title="Spring Bean 循环依赖">Spring Bean 循环依赖</a></li><li><a href="/springboot/BeanFactory%E6%89%A9%E5%B1%95/" rel="bookmark" title="BeanFactory 扩展">BeanFactory 扩展</a></li><li><a href="/springboot/%E5%BC%82%E5%B8%B8%E9%80%9A%E7%9F%A5%E5%A4%84%E7%90%86%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%BB%9F%E4%B8%80%E5%B0%81%E8%A3%85/" rel="bookmark" title="异常通知处理和返回值统一封装">异常通知处理和返回值统一封装</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="xiaou" data-src="/images/avatar.jpg"><p class="name" itemprop="name">xiaou</p><div class="description" itemprop="description">xiaou博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">85</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">16</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">7</span> <span class="name">标签</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/algorithm/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/javaFrame/Mybatis/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/springboot/" title="分类于 springboot">springboot</a></div><span><a href="/springboot/Spring%20Bean%20%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96/" title="Spring Bean 循环依赖">Spring Bean 循环依赖</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JVM/" title="分类于 JVM">JVM</a></div><span><a href="/JVM/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%AD%90%E7%B3%BB%E7%BB%9F/" title="类加载器子系统">类加载器子系统</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 java">java</a></div><span><a href="/java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="多线程">多线程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于 algorithm">algorithm</a></div><span><a href="/algorithm/DFS/" title="深度优先搜索">深度优先搜索</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/desinMode/" title="分类于 desinMode">desinMode</a></div><span><a href="/designMode/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/" title="建造者模式">建造者模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/desinMode/" title="分类于 desinMode">desinMode</a></div><span><a href="/designMode/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="设计模式关系">设计模式关系</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 java">java</a></div><span><a href="/java/Lambda%20%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="Lambda 表达式">Lambda 表达式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/data-structure/" title="分类于 数据结构">数据结构</a> <i class="ic i-angle-right"></i> <a href="/categories/data-structure/tree/" title="分类于 树">树</a></div><span><a href="/data_structure/binarySearchTree/" title="二叉搜索树">二叉搜索树</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 java">java</a></div><span><a href="/java/java%20%E5%BC%95%E7%94%A8%E9%97%AE%E9%A2%98/" title="java 引用问题">java 引用问题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/js/" title="分类于 js">js</a></div><span><a href="/js/js%20%E5%8E%9F%E5%9E%8B%E9%93%BE/" title="JavaScript 原型链">JavaScript 原型链</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">xiaou @ xiaou</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">488k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">7:23</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"springboot/SpringBoot 注解功能/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,copy_tex:!0,katex:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//fastly.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->